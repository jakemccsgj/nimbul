<% semantic_remote_form_for [@parent, @instance_vm_type], :remote => true do |f| %>
    <%= hidden_field_tag :anchor, 'instance_vm_types' %>
    <%= hidden_field_tag :update, 'provider_instance_vm_types' %>
    <%= f.error_messages %>
    <% f.inputs do %>
      <%= f.input :api_name,
        :class => 'short'
      %>
      <%= f.input :name,
        :class => 'short'
      %>
      <%= f.input :ram_gb, :class => 'short' %>
      <%= f.input :cpu_units, :class => 'short' %>
      <%= f.input :storage_gb, :class => 'short' %>
      <%= f.input :storage_types, :label => 'Supported storage types',
          :as => :select,
          :collection => StorageType.find_all_by_provider_id(@parent.id, :order => 'position'),
          :required => false
      %>
      <%= f.input :io_profile,
          :as => :select,
          :collection => IoProfile.find(:all, :order => 'position'),
          :required => false
      %>
      <%= f.input :cpu_profiles,
          :as => :select,
          :collection => CpuProfile.find(:all, :order => 'position'),
          :required => false
      %>
    <% end %>
    <% f.buttons do %>
      <%= f.submit %>
      <%= cancel_add_provider_instance_vm_type_button 'Cancel', @provider %>
    <% end %>
<% end %>
